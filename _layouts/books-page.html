---
layout: page
autopages:
  enabled: true
  permalink: '/books/:tag/'
  collection: books
pagination:
  enabled: true
  collection: books
  title: ':title'
  limit: 0
  sort_field: 'title'
  trail:
    before: 2 # The number of links before the current page
    after: 2  # The number of links after the current page
---
<section class="Library-Tag-Selector">
  {% for my_page in site.pages %}
    {% if my_page.title and my_page.autogen == nil and my_page.autopage != nil %}
      <a class="page-link" href="{{ my_page.url | relative_url | remove: "index.html" }}">{{ my_page.title | escape | capitalize }}</a> |
    {% endif %}
  {% endfor %}
</section>

{{ content | markdownify  }}
<section class="books">
  {% comment %}
  {% assign tags =  site.books | map: 'tags' | join: ','  | split: ',' | uniq %}
  <form class="book-filters">
    <input type="text" name="possibleValues" value="{{ tags | join: ' ' }}" hidden>
    {% for tag in tags %}
    {% assign tag = tag | strip %}
    {% if tag != '' %}
    <input type="checkbox" id="tag-checkbox-{{tag}}" name="{{tag}}" value="{{tag}}" checked >
    <label for="tag-checkbox-{{tag}}">{{tag}}</label>
    {% endif %}
    {% endfor %}
  </form>
      {% endcomment %}
  {% for book in paginator.posts %}
    <a class="book" href="{{ book.url | relative_url }}">
      <section class="book
      {% for tag in book.tags %}
        {{ tag }}
      {% endfor%}
      " style="background-image: url({{ book.image | relative_url }});">
          <div class="text">
            <h1>{{ book.title }}</h1>
            {% if book.author %}
            <p><em>{{ book.author }}</em></p>
            {% endif %}
            <hr>
            <p><strong>{{ book.subtitle }}</strong></p>
          </div>
      </section>
    </a>
  {% endfor %}
  {% if paginator.page_trail %}
    {% for trail in paginator.page_trail %}
      <li {% if page.url == trail.path %}class="selected"{% endif %}>
          <a href="{{ trail.path | prepend: site.baseurl }}" title="{{trail.title}}">{{ trail.num }}</a>
      </li>
    {% endfor %}
  {% endif %}
</section>
